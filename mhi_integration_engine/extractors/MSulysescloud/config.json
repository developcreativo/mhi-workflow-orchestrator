{
    "extractor_name":"ulysescloud",
    "extractor_type":"apirest",
    "base_url": "https://{{environment}}.ulysescloud.com/public/api/{{version}}/con/chain/{{chainId}}",
    "api_version":"v1",
    "endpoint_pages":99999,
    "datasets":{
        "property.user":{
            "endpoint":"/property/user",
            "is_the_hotel_list":true,
            "paginate":false,
            "incremental":false,
            "property_iterable":false,
            "data_attribute":"list"
        },
        "property.segment":{
            "endpoint":"/property/segment",
            "is_the_hotel_list":false,
            "paginate":false,
            "incremental":false,
            "property_iterable":false,
            "data_attribute":"list"
        },
        "company.summary":{
            "endpoint":"/company/summary?limit=500000",
            "paginate":false,
            "incremental":false,
            "property_iterable":false,
            "data_attribute":"list"
        },
        "company.relationships":{
            "endpoint":"/company/relationships?limit=500000",
            "paginate":false,
            "incremental":false,
            "property_iterable":false,
            "data_attribute":"list"
        },
        "company.relationships.1":{
            "endpoint":"/company/relationships?limit=500000&chainProfileRelationshipTypeId=1",
            "paginate":false,
            "incremental":false,
            "property_iterable":false,
            "data_attribute":"list"
        },
        "company.relationships.2":{
            "endpoint":"/company/relationships?limit=500000&chainProfileRelationshipTypeId=2",
            "paginate":false,
            "incremental":false,
            "property_iterable":false,
            "data_attribute":"list"
        },
        "company.relationships.4":{
            "endpoint":"/company/relationships?limit=500000&chainProfileRelationshipTypeId=4",
            "paginate":false,
            "incremental":false,
            "property_iterable":false,
            "data_attribute":"list"
        },
        "mergeAudit":{
            "endpoint":"/mergeAudit?entityName=Company",
            "paginate":false,
            "incremental":false,
            "property_iterable":false
        },
        "productGroup.productSubGroup":{
            "endpoint":"/property/productGroup/productSubGroup",
            "paginate":false,
            "incremental":false,
            "property_iterable":false
        },
        "property.room":{
            "endpoint":"/property/{{propertyId}}/room?limit=5000",
            "paginate":false,
            "incremental":false,
            "property_iterable":true,
            "data_attribute":"list"
        },
        "property.room.available":{
            "endpoint":"/property/{{propertyId}}/room/available",
            "paginate":false,
            "incremental":false,
            "property_iterable":true,
            "data_attribute":"list"
        },
        "property.budget.monthly":{
            "endpoint":"/property/{{propertyId}}/budget/monthly",
            "paginate":false,
            "property_iterable":true,
            "incremental":true,
            "incremental_field": "year",
            "parameters":{
                    "year":{
                        "datatype":"integer",
                        "default_value":2022
                    }
            }
        },
        "property.revenue.detail":{
            "description":"La integración se hace por cada dia, entonces se recorren todos los hoteles para el mismo dia en from y to, entonces se descarga la información de ese dia para ese hotel, es incremental y siempre termina ayer. Asumimos que el from y el to son iguales siempre y en el codigo cuando tenemos from añadimos to",
            "endpoint":"/property/{{propertyId}}/revenue/detail?limit=50000",
            "paginate":false,
            "property_iterable":true,
            "data_attribute":"list",
            "incremental":true,
            "incremental_field": "from",
            "parameters":{
                "from":{
                    "datatype":"date",
                    "default_value":"2022-01-01"
                }
            }
        },
        "property.invoice":{
            "endpoint":"/property/{{propertyId}}/invoice?limit=50000&showProductDeposit=true&showProductService=true&showProductAccommodation=true&showProductPayment=true&showProductFee=true&showProductCancellationFee=true&showReservationRoomStaySummary=true&showDetailedCommission=true",
            "paginate":false,
            "incremental":true,
            "property_iterable":true,
            "data_attribute":"list",
            "incremental_field": "from",
            "parameters":{
                "from":{
                    "datatype":"date",
                    "default_value":"2022-01-01"
                }
            }
        },
        "property.propertyManagement.room.inventory":{
            "endpoint":"/property/{{propertyId}}/propertyManagement/bookingForecastDaily?limit=1&revenuePriceModelTypeId=1",
            "paginate":false,
            "property_iterable":true,
            "incremental":true,
            "incremental_field": "date",
            "years_ahead":1,
            "parameters":{
                "date":{
                    "datatype":"date",
                    "default_value":"2022-01-01"
                }
            }
        },
        "property.propertyManagement.depositLedger":{
            "endpoint":"/property/{{propertyId}}/propertyManagement/depositLedger?limit=50000",
            "paginate":false,
            "incremental":true,
            "property_iterable":true,
            "incremental_field": "from",
            "parameters":{
                "from":{
                    "datatype":"date",
                    "default_value":"2022-01-01"
                }
            }
        },
        "property.propertyManagement.accountReceivableAging":{
            "endpoint":"/property/{{propertyId}}/propertyManagement/accountReceivableAging?limit=5000",
            "paginate":false,
            "property_iterable":true,
            "incremental":true,
            "incremental_field": "date",
            "parameters":{
                "date":{
                    "datatype":"date",
                    "default_value":"2022-01-01"
                }
            }
        },
        "property.propertyManagement.guestLedger":{
            "endpoint":"/property/{{propertyId}}/propertyManagement/guestLedger?limit=50000",
            "paginate":false,
            "incremental":false,
            "property_iterable":true
        },
        "property.reservationRoomStay.creation":{
            "endpoint":"/property/{{propertyId}}/reservationRoomStay?limit=50000",
            "paginate":false,
            "property_iterable":true,
            "incremental":true,
            "data_attribute":"list",
            "incremental_field": "createdFrom",
            "parameters":{
                "createdFrom":{
                    "datatype":"timestamp",
                    "default_value":"2022-01-01T00:00:00.000Z"
                }
            }
        },
        "property.reservationRoomStay.modification":{
            "endpoint":"/property/{{propertyId}}/reservationRoomStay?limit=50000",
            "paginate":false,
            "property_iterable":true,
            "incremental":true,
            "data_attribute":"list",
            "incremental_field": "modifiedFrom",
            "parameters":{
                "modifiedFrom":{
                    "datatype":"timestamp",
                    "default_value":"2022-01-01T00:00:00.000Z"
                }
            }
        }
    },
    "master_datasets":[
        "property.user",
        "company.summary",
        "company.relationships",
        "mergeAudit",
        "productGroup.productSubGroup",
        "property.room",
        "property.budget.monthly"
    ],
    "otros  ":[
        "property.reservationRoomStay.modification"
    ],
    "transactional_datasets":[
        "property.reservationRoomStay.creation",
        "property.reservationRoomStay.modification",
        "property.propertyManagement.accountReceivableAging",
        "property.propertyManagement.depositLedger",
        "property.propertyManagement.guestLedger",
        "property.revenue.detail",
        "property.invoice"
    ]
}
